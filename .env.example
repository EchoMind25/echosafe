# ============================================================================
# ECHO SAFE - ENVIRONMENT VARIABLES
# ============================================================================
# Copy this file to .env.local and fill in your actual values
# NEVER commit .env.local to git

# ============================================================================
# APPLICATION
# ============================================================================
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_APP_NAME="Echo Safe"
NODE_ENV=development

# ============================================================================
# SUPABASE (Authentication & Database)
# ============================================================================
# Get these from: https://app.supabase.com/project/_/settings/api
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# Database URL (for Prisma - optional if using Supabase client)
DATABASE_URL=postgresql://postgres:[password]@db.[project-ref].supabase.co:5432/postgres

# ============================================================================
# STRIPE (Payments)
# ============================================================================
# Get these from: https://dashboard.stripe.com/apikeys
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# Stripe Product/Price IDs (create these in Stripe Dashboard)
STRIPE_PRICE_BASE_MONTHLY=price_...
STRIPE_PRICE_UTAH_ELITE_MONTHLY=price_...
STRIPE_PRICE_TEAM_MONTHLY=price_...

# ============================================================================
# N8N (Scrubbing Engine)
# ============================================================================
# Your N8N webhook URL for lead scrubbing
N8N_WEBHOOK_URL=https://your-n8n-instance.app.n8n.cloud/webhook/dnc-scrub
N8N_API_KEY=your-n8n-api-key-here
# Secret for verifying N8N callback webhooks (generate with: openssl rand -hex 32)
N8N_WEBHOOK_SECRET=your-webhook-secret-here

# ============================================================================
# CLAUDE AI (Risk Scoring)
# ============================================================================
# Get this from: https://console.anthropic.com/
CLAUDE_API_KEY=sk-ant-...

# ============================================================================
# EMAIL (Resend)
# ============================================================================
# Get this from: https://resend.com/api-keys
RESEND_API_KEY=re_...
RESEND_FROM_EMAIL=noreply@echosafe.app
RESEND_FROM_NAME="Echo Safe"

# ============================================================================
# SUPABASE WEBHOOKS (Optional - for custom auth emails)
# ============================================================================
# Set a secret for webhook verification (generate a random string)
SUPABASE_WEBHOOK_SECRET=your-webhook-secret-here

# ============================================================================
# ANALYTICS (Optional)
# ============================================================================
# PostHog (self-hosted or cloud)
NEXT_PUBLIC_POSTHOG_KEY=phc_...
NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com

# Plausible (privacy-focused web analytics)
NEXT_PUBLIC_PLAUSIBLE_DOMAIN=echosafe.app

# ============================================================================
# ERROR TRACKING (Sentry)
# ============================================================================
# Get these from: https://sentry.io/settings/projects/
NEXT_PUBLIC_SENTRY_DSN=https://...@sentry.io/...
SENTRY_AUTH_TOKEN=your-auth-token-here

# ============================================================================
# CRM INTEGRATIONS (OAuth Credentials)
# ============================================================================
# Follow Up Boss
FOLLOWUPBOSS_CLIENT_ID=your-client-id
FOLLOWUPBOSS_CLIENT_SECRET=your-client-secret

# Lofty
LOFTY_CLIENT_ID=your-client-id
LOFTY_CLIENT_SECRET=your-client-secret

# Kvcore
KVCORE_CLIENT_ID=your-client-id
KVCORE_CLIENT_SECRET=your-client-secret

# ============================================================================
# INTEGRATION ENCRYPTION (REQUIRED for production)
# ============================================================================
# Generate with: openssl rand -base64 32
INTEGRATION_ENCRYPTION_KEY=your-32-byte-base64-key
# Generate with: openssl rand -base64 16
INTEGRATION_ENCRYPTION_SALT=your-16-byte-base64-salt

# ============================================================================
# GOOGLE OAUTH (Authentication + Optional Google Sheets API)
# ============================================================================
# Get these from: https://console.cloud.google.com/apis/credentials
# Used for: Google Sign-In, and future Google Sheets add-on
# Configure in Supabase: Dashboard > Authentication > Providers > Google
GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-client-secret

# ============================================================================
# RATE LIMITING (Optional - Upstash Redis)
# ============================================================================
UPSTASH_REDIS_REST_URL=https://...upstash.io
UPSTASH_REDIS_REST_TOKEN=your-token-here

# ============================================================================
# FILE STORAGE (Supabase Storage - auto-configured with Supabase)
# ============================================================================
# No additional config needed - uses NEXT_PUBLIC_SUPABASE_URL

# ============================================================================
# MONITORING (BetterStack)
# ============================================================================
BETTERSTACK_API_KEY=your-api-key-here

# ============================================================================
# FEATURE FLAGS (Optional - for gradual rollouts)
# ============================================================================
FEATURE_CRM_INTEGRATIONS=true
FEATURE_TEAM_ACCOUNTS=false
FEATURE_ADVANCED_ANALYTICS=false
FEATURE_API_ACCESS=false
